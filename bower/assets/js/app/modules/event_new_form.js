/*! srinivas 2015-07-24 */
define(["jquery","bootstrap"],function(a){var b=function(a){this.$wrapper=a,this.initialize()};return a.extend(b.prototype,{initialize:function(){this.$wrapper.on("submit",".js-event-form",a.proxy(this._handleFormSubmit,this))},_handleFormSubmit:function(b){b.preventDefault();var c=a(b.currentTarget),d=c.parent(),e=a('<div class="modal fade" id="pleaseWaitDialog" data-backdrop="static" data-keyboard="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h1>Processing...</h1></div><div class="modal-body"><div class="progress progress-striped active"><div class="progress-bar" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 100%;"></div></div></div></div></div></div>');e.modal();var f=function(){a.ajax({url:c.attr("action")+".json",type:"POST",data:c.serialize(),success:function(a){a.success?(e.find("h1").text("Saved!"),setTimeout(function(){window.location=a.redirect_url},1e3)):(d.html(a.form),e.modal("hide"))}})};setTimeout(f,1e3)}}),b});