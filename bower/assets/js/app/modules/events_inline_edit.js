/*! srinivas 2015-07-24 */
define(["jquery"],function(a){var b=function(a){this.$wrapper=a,this.initialize()};return a.extend(b.prototype,{initialize:function(){this.$wrapper.on("click",".js-event-edit-link",a.proxy(this._handleEditClick,this)),this.$wrapper.on("submit",".js-event-form",a.proxy(this._handleFormSubmit,this))},_handleEditClick:function(b){b.preventDefault();var c=a(b.currentTarget),d=c.closest(".js-event-wrapper");a.ajax({url:c.attr("href")+".json",success:function(a){d.html(a.form),d.addClass("editing")}})},_handleFormSubmit:function(b){b.preventDefault();var c=a(b.currentTarget),d=c.closest(".js-event-wrapper");a.ajax({url:c.attr("action")+".json",type:"POST",data:c.serialize(),success:function(a){a.success?d.html(a.event_html):d.html(a.form),d.removeClass("editing")}})}}),b});